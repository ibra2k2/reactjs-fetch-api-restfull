{"ast":null,"code":"import _defineProperty from\"/Users/mibrahim/Reactjs/hooks/FullStack/fetch-api/react-ui/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/mibrahim/Reactjs/hooks/FullStack/fetch-api/react-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Fragment,useState,useEffect}from'react';import axios from'axios';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),shown=_useState6[0],setShown=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];// const [isError, setIsError] = useState(true)\nuseEffect(function(){// console.log('Effect');\nsetIsLoading(false);// setIsError(false);\naxios// .get(`https://restcountries.eu/rest/v2/capital/${search}`)\n.get(\"https://restcountries.eu/rest/v2/name/\".concat(search))// .get(`https://restcountries.eu/rest/v2/currency/${search}`)\n.then(function(response){console.log('Promise fulfiled for Name',response);setData(response.data);}).catch(function(error){console.log('Name error:',error.response);// setIsError(false);\n});axios.get(\"https://restcountries.eu/rest/v2/capital/\".concat(search))//.get(`https://restcountries.eu/rest/v2/name/${search}`) \n// .get(`https://restcountries.eu/rest/v2/currency/${search}`)\n.then(function(response){console.log('Promise fulfiled for Capital',response);setData(response.data);}).catch(function(error){console.log('Capital error:',error.response);// setIsError(false);\n});axios//.get(`https://restcountries.eu/rest/v2/capital/${search}`)\n//.get(`https://restcountries.eu/rest/v2/name/${search}`) \n.get(\"https://restcountries.eu/rest/v2/currency/\".concat(search)).then(function(response){console.log('Promise fulfiled for Currency',response);setData(response.data);}).catch(function(error){console.log('Currency error:',error.response);// setIsError(false);\n});},[search]);var handelSearchChanged=function handelSearchChanged(e){e.preventDefault();setSearch(e.target.value);if(e.target.value.length<3){document.getElementById(\"text\").style.visibility=\"visible\";}else{document.getElementById(\"text\").style.visibility=\"hidden\";}};var toggleShown=function toggleShown(name){setShown(function(prevShown){return _objectSpread({},prevShown,_defineProperty({},name,!prevShown[name]));});};var labelStyle={visibility:'hidden',color:'red'};return React.createElement(Fragment,null,isLoading?React.createElement(\"div\",null,\"Loading ...\"):React.createElement(\"div\",null,\"Find Country: \",React.createElement(\"input\",{type:\"text\",value:search,onChange:handelSearchChanged,placeholder:\"Search Country info...\"}),React.createElement(\"label\",{id:\"text\",style:labelStyle},\"Too many matches, Specify another letter\")),React.createElement(\"div\",null,data.map(function(item){return React.createElement(\"ul\",{key:item.name},item.name?React.createElement(\"button\",{id:\"show\",onClick:function onClick(){return toggleShown(item.name);}},\"Show\"):null,React.createElement(\"br\",null),React.createElement(\"div\",null,React.createElement(\"strong\",null,item.name)),shown[item.name]?React.createElement(\"div\",null,\"Capital:\",item.capital,React.createElement(\"br\",null),\"Population:\",item.population,React.createElement(\"br\",null),\"Area:\",item.area,React.createElement(\"br\",null),\"Region:\",item.region,React.createElement(\"br\",null),item.languages.map(function(lan){return React.createElement(\"ul\",null,React.createElement(\"li\",null,\"Languages:\",lan.name));}),item.currencies.map(function(cu){return React.createElement(\"ul\",null,React.createElement(\"li\",null,\"Currency:\",cu.name));}),React.createElement(\"img\",{src:item.flag,alt:\"flag\",width:\"150\",height:\"90\",border:\"1px solid #000000\"})):null);})));}export default App;","map":{"version":3,"sources":["/Users/mibrahim/Reactjs/hooks/FullStack/fetch-api/react-ui/src/App.js"],"names":["React","Fragment","useState","useEffect","axios","App","data","setData","search","setSearch","shown","setShown","isLoading","setIsLoading","get","then","response","console","log","catch","error","handelSearchChanged","e","preventDefault","target","value","length","document","getElementById","style","visibility","toggleShown","name","prevShown","labelStyle","color","map","item","capital","population","area","region","languages","lan","currencies","cu","flag"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [search, setSearch] = useState('');\n  const [shown, setShown] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  // const [isError, setIsError] = useState(true)\n\n\n\n\n  useEffect(() => {\n    // console.log('Effect');\n    setIsLoading(false); \n    // setIsError(false);\n    axios\n    // .get(`https://restcountries.eu/rest/v2/capital/${search}`)\n    .get(`https://restcountries.eu/rest/v2/name/${search}`) \n    // .get(`https://restcountries.eu/rest/v2/currency/${search}`)\n    .then(response => {\n      console.log('Promise fulfiled for Name', response);\n      setData(response.data);\n      \n    }) \n    .catch(error => {\n      console.log('Name error:', error.response);\n      // setIsError(false);\n    });\n    \n    axios\n    .get(`https://restcountries.eu/rest/v2/capital/${search}`)\n    //.get(`https://restcountries.eu/rest/v2/name/${search}`) \n    // .get(`https://restcountries.eu/rest/v2/currency/${search}`)\n    .then(response => {\n      console.log('Promise fulfiled for Capital', response);\n      setData(response.data);\n      \n    })\n    .catch(error => {\n      console.log('Capital error:', error.response);\n      // setIsError(false);\n    });\n    axios\n    //.get(`https://restcountries.eu/rest/v2/capital/${search}`)\n    //.get(`https://restcountries.eu/rest/v2/name/${search}`) \n    .get(`https://restcountries.eu/rest/v2/currency/${search}`)\n    .then(response => {\n      console.log('Promise fulfiled for Currency', response);\n      setData(response.data);\n      \n    })\n    .catch(error => {\n      console.log('Currency error:', error.response);\n      // setIsError(false);\n    });\n    \n  }, [search]);\n\n  const handelSearchChanged = (e) => {\n    e.preventDefault();\n    setSearch(e.target.value);\n\n    if (e.target.value.length < 3){\n      document.getElementById(\"text\").style.visibility = \"visible\";\n    }else{\n      document.getElementById(\"text\").style.visibility = \"hidden\";\n    }\n  }\n\n\n  const toggleShown = (name) => {\n    setShown(prevShown => ({\n      ...prevShown,\n      [name]:!prevShown[name]\n    }));\n  }\n\n  const labelStyle = {\n    visibility: 'hidden',\n    color: 'red'\n  };\n\n\n  return (\n    <Fragment>\n      {/* {isError && <div>something went wrong...</div>} */}\n      {isLoading ? (<div>Loading ...</div>): (\n      <div>\n        Find Country: <input type = 'text'  value = {search} onChange = {handelSearchChanged} placeholder = \"Search Country info...\"/>\n        <label id = \"text\" style={labelStyle}>Too many matches, Specify another letter</label>\n      </div> \n      )} \n      \n     <div> \n     {data.map(item => (\n        <ul key={item.name}>\n          {item.name ? (<button id = \"show\" onClick ={() => toggleShown(item.name)}>Show</button>): null}<br/>\n          <div><strong>{item.name}</strong></div>\n          {shown[item.name] ? \n          <div>\n          Capital:{item.capital}<br/>\n          Population:{item.population}<br/>\n          Area:{item.area}<br/>\n          Region:{item.region}<br/>\n            {item.languages.map(lan => (\n              <ul>\n                <li>\n                Languages:{lan.name}\n               </li>\n              </ul>\n            ))}\n            {item.currencies.map(cu => (\n              <ul>\n                <li>\n                Currency:{cu.name}\n               </li>\n              </ul>\n            ))}\n            {/* <ul>\n            <li>Languages:{item.languages[0].name} | Native Name:{item.languages[0].nativeName}<br/></li>\n            <li>Currency:{item.currencies[0].code}<br/></li>\n            </ul> */}\n\n          <img src = {item.flag} alt = \"flag\" width = \"150\" height = \"90\" border = \"1px solid #000000\" />\n          </div>\n          :null}\n        </ul>\n      ))}\n      </div>\n    </Fragment>\n  );\n}\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}